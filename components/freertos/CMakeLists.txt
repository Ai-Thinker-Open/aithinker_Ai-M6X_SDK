sdk_generate_library()
sdk_library_add_sources(croutine.c)
sdk_library_add_sources(event_groups.c)
sdk_library_add_sources(list.c)
sdk_library_add_sources(queue.c)
sdk_library_add_sources(tasks.c)
sdk_library_add_sources(timers.c)
sdk_library_add_sources(timers.c)
sdk_library_add_sources(freertos_port.c)
if(CONFIG_TLSF)
sdk_library_add_sources(portable/MemMang/heap_3.c)
else()
sdk_library_add_sources(portable/MemMang/heap_5.c)
endif()
sdk_add_include_directories(include)

if(("${CHIP}" STREQUAL "bl808") AND ("${CPU_ID}" STREQUAL "d0"))
sdk_library_add_sources(portable/GCC/RISC-V/c906/port.c)
sdk_library_add_sources(portable/GCC/RISC-V/c906/portASM.S)
sdk_add_include_directories(portable/GCC/RISC-V/c906)
sdk_add_include_directories(portable/GCC/RISC-V/c906/chip_specific_extensions/Thead_E906FD_RV32IMAFDC)
sdk_add_compile_definitions(-D__OS_FREERTOS__)
else()
sdk_library_add_sources(portable/GCC/RISC-V/common/port.c)
sdk_library_add_sources(portable/GCC/RISC-V/common/portASM.S)
sdk_add_include_directories(portable/GCC/RISC-V/common)
sdk_add_include_directories(portable/GCC/RISC-V/common/chip_specific_extensions/RV32I_CLINT_no_extensions)
sdk_add_compile_definitions(-DportasmHANDLE_INTERRUPT=interrupt_entry -Ddefault_interrupt_handler=freertos_risc_v_trap_handler)

endif()
